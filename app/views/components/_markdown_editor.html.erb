<%
  textarea ||= {}
  component_classes = %w[app-c-markdown-editor govuk-form-group]
  bullets_button ||= false
%>
<%= tag.div class: component_classes do %>

  <%= render "govuk_publishing_components/components/label", {
    html_for: textarea[:id],
  }.merge(label.symbolize_keys) %>

   <div class="app-c-markdown-editor__container">
    <div class="app-c-markdown-editor__head">
      <div class="app-c-markdown-editor__toolbar">
        <markdown-toolbar class="app-c-markdown-editor__toolbar-group" for="<%= textarea[:id] %>">
          <md-link class="app-c-markdown-editor__toolbar-button" title="Link" aria-label="Link">
            <%= render "components/markdown_editor/link.svg" %>
          </md-link>
          <% if bullets_button %>
            <md-unordered-list class="app-c-markdown-editor__toolbar-button" title="Bullets" aria-label="Bullets">
              <%= render "components/markdown_editor/bullets.svg" %>
            </md-unordered-list>
          <% end %>
        </markdown-toolbar>
      </div>
    </div>

    <div class="app-c-markdown-editor__input">
      <%= render "govuk_publishing_components/components/textarea", textarea %>
    </div>
  </div>
<% end %>
